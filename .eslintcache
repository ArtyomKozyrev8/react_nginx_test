[{"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\index.js":"1","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\reportWebVitals.js":"2","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\App.js":"3","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\Header.js":"4","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\List.js":"5","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\ApiReqText.js":"6","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\WSItem.js":"7","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\SetCookieField.js":"8","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\GetCookieField.js":"9","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\RemoveCookieField.js":"10"},{"size":500,"mtime":1609780436947,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"12"},{"size":985,"mtime":1609941991935,"results":"14","hashOfConfig":"12"},{"size":739,"mtime":1609780599088,"results":"15","hashOfConfig":"12"},{"size":1468,"mtime":1609789006668,"results":"16","hashOfConfig":"12"},{"size":1058,"mtime":1609785186059,"results":"17","hashOfConfig":"12"},{"size":2167,"mtime":1609871091857,"results":"18","hashOfConfig":"12"},{"size":944,"mtime":1609941208230,"results":"19","hashOfConfig":"12"},{"size":938,"mtime":1609941208195,"results":"20","hashOfConfig":"12"},{"size":950,"mtime":1609941208206,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"11q6zks",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\index.js",[],["45","46"],"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\reportWebVitals.js",[],"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\App.js",[],"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\Header.js",[],"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\List.js",[],"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\ApiReqText.js",[],"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\WSItem.js",["47"],"import React from \"react\"\r\n\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nconst socket_url = new URL(\"api/socket\", window.location.href);  // create url for socket\r\nsocket_url.protocol = socket_url.protocol.replace('http', 'ws');\r\n\r\nexport default class WSItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            messages: [],\r\n        }\r\n    }\r\n\r\n    feed_server_wrapper = (s) => {\r\n        let n = 1;\r\n        function feed_server() {\r\n            if (s.readyState) {\r\n                s.send(`Hello server ${n}`);  // send message to socket here\r\n                n = n + 1;\r\n                if (n === 10) {\r\n                    s.send(\"close\");\r\n                }\r\n            }\r\n        }\r\n        return feed_server\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.connection = new WebSocket(socket_url)\r\n        this.connection.onopen = () => {\r\n            this.connection.send('Start server work!');\r\n            this.state.messages.push('Start server work!');\r\n            this.setState({\r\n                messages: this.state.messages\r\n            })\r\n        }\r\n\r\n        this.connection.onclose = (e) => {\r\n            this.state.messages.push(\"Closed\");\r\n            this.setState({\r\n                messages: this.state.messages\r\n            })\r\n            clearInterval(this.intervalId); // remove sender since socket was closed\r\n        }\r\n\r\n        this.connection.onmessage = (e) => {\r\n            this.state.messages.push(e.data);\r\n            this.setState({\r\n                messages: this.state.messages\r\n            })\r\n        }\r\n        this.intervalId = setInterval(this.feed_server_wrapper(this.connection), new Number(this.props.Interval))\r\n    }\r\n\r\n    showList = () => {\r\n        let liArray = []\r\n        for (let i of this.state.messages) {\r\n            liArray.push(<li key={`${i}-${getRandomInt(100000)}`}> {i} </li>)\r\n        }\r\n        return liArray\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"flexDiv\"}>\r\n                <ul>{this.showList()}</ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\SetCookieField.js",[],["48","49"],"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\GetCookieField.js",[],"C:\\Users\\Artyom\\PycharmProjects\\react_nginx_test\\src\\comps\\RemoveCookieField.js",[],{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":57,"column":82,"nodeType":"56","messageId":"57","endLine":57,"endColumn":113},{"ruleId":"50","replacedBy":"58"},{"ruleId":"52","replacedBy":"59"},"no-native-reassign",["60"],"no-negated-in-lhs",["61"],"no-new-wrappers","Do not use Number as a constructor.","NewExpression","noConstructor",["60"],["61"],"no-global-assign","no-unsafe-negation"]